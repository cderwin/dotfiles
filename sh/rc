# Local zshrc
[ -f ~/.zshrc.local ] && . ~/.zshrc.local

# initialize zsh completions
autoload -Uz compinit && compinit

# Move up quickly
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."

# Detect which `ls` flavor is in use
if ls --color > /dev/null 2>&1; then # GNU `ls`
	colorflag="--color"
else # OS X `ls`
	colorflag="-G"
fi

# variants of ls
alias ls="command ls ${colorflag}"
alias ll="ls -l"
alias l=ll
alias la="ls -a"
alias all="ls -al"

# git shortcuts
alias g=git
alias push="git push"
alias pull="git pull"
alias gs="git status"
alias gd="git diff"
alias gb="git branch"

# Trim newlines and copy to clipboard
which pbcopy &> /dev/null && alias copy="tr -d '\n' | pbcopy"
which xsel   &> /dev/null && alias copy="tr -d '\n' | xsel -i -b"

# Remove .DS_Store files
alias cleanup="find . -type f -name '*.DS_Store' -ls -delete"

# use nvim instead of vim
alias vim=nvim
export EDITOR=nvim

# custom functions

mkd() { mkdir $@; cd $@; }

# path modifications
add_to_path() {
    if [ -d $1 ]; then
        export PATH=$1:$PATH
    fi
}

add_to_path $HOME/.cargo/bin
add_to_path $HOME/.rbenv/bin
add_to_path $HOME/.nimble/bin
add_to_path $HOME/.local/bin
add_to_path /usr/local/src/elixir/bin
add_to_path /usr/texbin
add_to_path /usr/local/go/bin

# source prompt
. ~/.prompt.zsh
