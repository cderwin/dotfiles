{{#if dotter.packages.zsh}}
# initialize zsh completions
autoload -Uz compinit && compinit

# use prefix-matching search for history scrolling
autoload -U up-line-or-beginning-search
autoload -U down-line-or-beginning-search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search
bindkey "^[[A" up-line-or-beginning-search # Up
bindkey "^[[B" down-line-or-beginning-search # Down

# append completions to fpath
if [[ -d "${ASDF_DIR}" ]]; then
    fpath=(${ASDF_DIR}/completions $fpath)
fi
{{/if}}

# Move up quickly
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."

# platform-specific aliases
{{#if dotter.macos}}
alias ls="command ls --color"
alias copy="tr -d '\n' | pbcopy"
alias cleanup="find . -type f -name '*.DS_Store' -ls -delete"
{{else if dotter.linux}}
alias ls="command ls -G"
alias copy="tr -d '\n' | xsel -i -b"
{{/if}}

# variants of ls
alias ls="command ls ${colorflag}"
alias ll="ls -l"
alias l=ll
alias la="ls -a"
alias all="ls -al"

# git shortcuts
alias g=git
alias push="git push"
alias pull="git pull"
alias gs="git status"
alias gd="git diff"
alias gb="git branch"

# pal aliases
alias h="./hatchw"
alias hr="./hatchw run"
alias g="./gradlew"
alias tsync="rsync -e 'tsh ssh'"

# use nvim instead of vim
alias vim=nvim
export EDITOR=nvim

# custom functions

mkd() { mkdir $@; cd $@; }

# path modifications
add_to_path() {
    if [ -d $1 ]; then
        export PATH=$1:$PATH
    fi
}

add_to_path /usr/local/src/elixir/bin
add_to_path /usr/texbin
add_to_path /usr/local/go/bin
add_to_path $HOME/.cargo/bin
add_to_path $HOME/.local/bin

{{#if dotter.packages.zsh}}
# source prompt
. ~/.prompt.zsh

# Local zshrc
[ -f ~/.zshrc.local ] && . ~/.zshrc.local
{{/if}}
